<% content_for :body_class, "min-h-screen bg-gradient-to-b from-sky-400 via-sky-200 to-white" %>

<div class="px-4 py-6 text-center">
  <h1 class="mt-2 mb-6 inline-block px-8 py-2
           rounded-xl bg-white/70 backdrop-blur-sm shadow-sm
           text-pink-500 text-2xl font-semibold tracking-wide">分析ページ</h1>

  <!-- チャット表示エリア（広々） -->
  <div class="max-w-full md:max-w-4xl mx-auto border rounded-lg p-4 md:p-6
              h-[calc(100vh-280px)] md:h-[calc(100vh-300px)]
              overflow-y-scroll shadow-lg
              transition-colors duration-1000"
       data-controller="chat">
    <div id="messages" data-chat-target="messages" class="space-y-3 mb-4">
      <% @messages.each do |message| %>
        <%= render message %>
      <% end %>
    </div>
  </div>

  <!-- メッセージ送信フォーム -->
  <div class="max-w-full md:max-w-4xl mx-auto mt-4">
    <%= render "messages/form", chat_session: @chat_session, message: @message %>
  </div>
</div>