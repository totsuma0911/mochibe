<%= form_with model: [@chat_session, message],
              data: {
                controller: "message",
                action: "keydown->message#submitOnEnter",
                turbo_stream: true
              },
              id: "message-form",
              class: "bg-white rounded-lg shadow-md p-4" do |f| %>

  <div class="flex flex-col md:flex-row items-stretch md:items-end gap-3">
    <%= f.text_area :content,
          rows: 2,
          placeholder: "今日はどんな気分でスタートしましたか？ もしくはどんな思いをした一日でしたか？ ありのままの気持ちを相談してみましょう",
          class: "flex-grow rounded-lg border-2 border-gray-300 p-3
                 text-base
                 focus:border-purple-400 focus:ring-2 focus:ring-purple-200
                 placeholder-gray-400 resize-none
                 transition-all duration-200" %>

    <%= f.hidden_field :sender, value: "user" %>

    <%= f.submit "送信",
           class: "px-6 md:px-8 py-3 md:py-4
                  text-base md:text-lg font-bold text-white
                  rounded-lg
                  bg-gradient-to-r from-purple-400 via-pink-400 to-pink-500
                  hover:from-purple-500 hover:via-pink-500 hover:to-pink-600
                  transition-all duration-200 transform
                  hover:scale-105 hover:shadow-lg
                  active:scale-95
                  cursor-pointer
                  whitespace-nowrap" %>
  </div>

  <% if message&.errors.any? %>
    <p class="text-red-500 text-sm mt-2"><%= message.errors.full_messages.to_sentence %></p>
  <% end %>
<% end %>