<%= form_with model: [@chat_session, Message.new],
              data: { 
                controller: "message",        # ðŸŸ¢ è¿½åŠ : Stimulusã®ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©åã‚’æŒ‡å®š
                action: "keydown->message#submitOnEnter", # ðŸŸ¢ è¿½åŠ : keydownã‚¤ãƒ™ãƒ³ãƒˆã§ãƒ¡ã‚½ãƒƒãƒ‰å‘¼ã³å‡ºã—
                turbo_stream: true            # ðŸŸ¡ ã“ã‚Œã¯å…ƒã‹ã‚‰ã‚ã£ãŸï¼ˆä½ç½®ã‚’å°‘ã—æ•´ç†ï¼‰
              }, 
              id: "message-form" do |f| %>

  <div class="flex items-center gap-2">
    <%= f.text_area :content,                        # ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã®å…¥åŠ›æ¬„
          rows: 1, 
          placeholder: "ä»Šæ—¥ã¯ã©ã‚“ãªæ°—åˆ†ï¼Ÿ",          # å…¥åŠ›å‰ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚¬ã‚¤ãƒ‰æ–‡
          class: "flex-grow rounded-lg border p-2 h-10 placeholder-gray-500" %>

    <%= f.hidden_field :sender, value: "user" %>     <!-- èª°ãŒé€ã£ãŸã‹ã‚’DBã«ä¿å­˜ï¼ˆã“ã“ã¯å¸¸ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºå®šï¼‰-->

    <%= f.submit "é€ä¿¡",                             # é€ä¿¡ãƒœã‚¿ãƒ³
           class: "px-4 py-2 text-white rounded-lg font-bold
          bg-gradient-to-r from-purple-400 via-pink-400 to-pink-500
          transition transform 
          hover:scale-105 hover:brightness-110
          active:scale-95 cursor-pointer" %>
  </div>

  <% if @message&.errors.any? %>                      <!-- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å¤±æ•—æ™‚ï¼ˆç©ºé€ä¿¡ãªã©ï¼‰ã®ã‚¨ãƒ©ãƒ¼è¡¨ç¤º -->
    <p class="text-red-500 text-sm mt-1"><%= @message.errors.full_messages.to_sentence %></p>
  <% end %>
<% end %>