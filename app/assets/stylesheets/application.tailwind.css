@import "tailwindcss";

/* ここから追記 --------------------------------------- */
@layer utilities {
  @keyframes fadeUp {
    /* 0 だと"無の時間"が長く感じるので、0.25 から始めて早めに視認させる */
    0%   { opacity: .25; transform: translateY(12px); }
    100% { opacity: 1;   transform: translateY(0); }
  }

  .animate-fade-up {
    opacity: 0;
    will-change: opacity, transform;
    /* ゆっくり：1.4s（お好みで 1.6〜2.0s でもOK） */
    animation: fadeUp 1.4s ease-out forwards;
  }

  /* ウェルカムメッセージ用：よりゆったりしたアニメーション */
  .animate-fade-up-slow {
    opacity: 0;
    will-change: opacity, transform;
    animation: fadeUp 2.4s ease-out forwards;
  }

  /* 開始タイミングのずらし（クラス名と値を直感的に一致させる） */
    .anim-delay-200 { animation-delay: .6s; }   /* 0.6秒後に開始 */
    .anim-delay-400 { animation-delay: 1.2s; }  /* 1.2秒後に開始 */
    .anim-delay-600 { animation-delay: 1.8s; }  /* 1.8秒後に開始 */
    .anim-delay-1200 { animation-delay: 1.2s; } /* 1.2秒後に開始（ウェルカムメッセージ用） */
    .anim-delay-2400 { animation-delay: 2.4s; } /* 2.4秒後に開始（ウェルカムメッセージ用） */

  /* 動きを苦手な人向け：アニメ無効で即表示 */
  @media (prefers-reduced-motion: reduce) {
    .animate-fade-up,
    .animate-fade-up-slow {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }

    .first-visit {
      animation: none !important;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1) !important;
    }
  }

  /* 初回訪問時のパルス＋グローアニメーション */
  .first-visit {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    50% {
      transform: scale(1.15);
      box-shadow: 0 0 30px rgba(56, 189, 248, 0.8),
                  0 0 60px rgba(56, 189, 248, 0.4);
    }
  }

  /* モーダルのフェードインアニメーション + 完全中央配置 */
  dialog[open] {
    animation: fadeIn 0.3s ease-out;
    position: fixed;
    inset: 0;
    margin: auto;
    max-height: fit-content;
  }

  dialog::backdrop {
    animation: fadeIn 0.3s ease-out;
  }
}
/* --------------------------------------- 追記ここまで */